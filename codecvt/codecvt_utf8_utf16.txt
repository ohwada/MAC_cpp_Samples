cd /Users/ohwada/C++/codecvt

g++ conv_file_utf_converter.cpp  ./utf_converter/utf_converter.cpp parse_filename.cpp -o conv -std=c++11


g++ conv_file.cpp parse_filename.cpp -o conv -std=c++11

g++ test_utf_converter.cpp ./utf_converter/utf_converter.cpp -o utf -std=c++11





g++ test_wstring_convert.cpp -o test -std=c++11




g++ utf16_to_utf8.cpp  -std=c++11





// std::codecvt_utf8_utf16
 C++ ローカライゼーションライブラリ 
ヘッダ <codecvt> で定義
https://ja.cppreference.com/w/cpp/locale/codecvt_utf8_utf16


#include <codecvt>
    // UTF-16/char16_t to UTF-8
    std::string u8_conv = std::wstring_convert<
        std::codecvt_utf8_utf16<char16_t>, char16_t>{}.to_bytes(u16);
    assert(u8 == u8_conv);
    std::cout << "\nUTF-16 to UTF-8 conversion produced "
              << std::dec << u8_conv.size() << " bytes:\n" << std::hex;
    for (char c : u8_conv)
        std::cout << +(unsigned char)c << ' ';
}

